<div class="card mb-5 mb-xl-8">
    <!-- end::Header -->
    <!-- begin::Body -->
    <div class="card-body py-3">
        <!-- begin::Table container -->
        <div class="table-responsive mt-5">
            <!-- begin::Table -->
            <table class="table align-middle gs-0 gy-4">
                <!-- begin::Table head -->
                <thead>
                    <tr class="fw-bolder text-muted bg-light">
                        <th (click)="sorting('name')" class="sortable ps-4 min-w-275px rounded-start">Product
                            <span class="sort-icon">
                                {{ activeSort === 'name' ? (direction === 'asc' ? '▲' : '▼') : '⇅' }}
                            </span>
                        </th>
                        <th (click)="sorting('price')" class="sortable min-w-125px">Price
                            <span class="sort-icon">
                                {{ activeSort === 'price' ? (direction === 'asc' ? '▲' : '▼') : '⇅' }}
                            </span>
                        </th>
                        <th (click)="sorting('purchaseDate')" class="sortable min-w-150px">Purchase Date
                            <span class="sort-icon">
                                {{ activeSort === 'purchaseDate' ? (direction === 'asc' ? '▲' : '▼') : '⇅' }}
                            </span>
                        </th>
                        <th class="min-w-100px">Size</th>
                        <th class="min-w-150px">Features</th>
                        <th class="min-w-150px">Colors</th>
                        <th class="min-w-100px rounded-end">Actions</th>
                    </tr>
                </thead>
                <!-- end::Table head -->
                <!-- begin::Table body -->
                <tbody>

                    <tr *ngFor="let p of products">
                        <td>
                            <div class="d-flex align-items-center">
                                <div class="symbol symbol-50px me-5">
                                    <img [src]="p.imagePath" class="" alt="" />
                                </div>
                                <div class="d-flex justify-content-start flex-column">
                                    <div class="text-dark fw-bold mb-1 fs-6">
                                        {{ p.productName }}
                                    </div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="d-flex justify-content-start flex-column">
                                <div class="text-dark fw-bold mb-1 fs-6">
                                    ₹{{ p.productPrice }}
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="d-flex justify-content-start flex-column">
                                <div class="text-dark fw-bold mb-1 fs-6">
                                    {{ p.purchaseDate | date:'dd-MM-yyyy' }}
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="d-flex justify-content-start flex-column">
                                <div class="text-dark fw-bold mb-1 fs-6">
                                    {{ p.size }}
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="d-flex justify-content-start flex-column">
                                <div class="text-dark fw-bold mb-1 fs-6">
                                    {{ p.features }}
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="d-flex justify-content-start flex-column">
                                <div class="text-dark fw-bold mb-1 fs-6">
                                    <span *ngIf="p.colors?.length; else nocolor">
                                        <span *ngFor="let c of p.colors; let last = last">
                                            {{ c }} <span *ngIf="!last">,</span>
                                        </span>
                                    </span>
                                    <ng-template #nocolor>-</ng-template>
                                </div>
                            </div>
                        </td>

                        <td>
                            <button (click)="edit(p)"
                                class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1">
                                <span [inlineSVG]="'./assets/media/icons/duotune/art/art005.svg'"
                                    class="svg-icon svg-icon-3"></span>
                            </button>

                            <button (click)="remove(p.productId)" href="#"
                                class="btn btn-icon btn-bg-light btn-active-color-primary btn-sm">
                                <span [inlineSVG]="'./assets/media/icons/duotune/general/gen027.svg'"
                                    class="svg-icon svg-icon-3"></span>
                            </button>
                        </td>
                    </tr>

                    <tr *ngIf="products.length === 0">
                        <td colspan="9" class="text-center text-muted">
                            No products available
                        </td>
                    </tr>
                </tbody>
                <!-- end::Table body -->
            </table>
            <!-- end::Table -->
        </div>
        <!-- end::Table container -->

        <div *ngIf="!noRecordsFound" class="d-flex flex-stack flex-wrap pt-10 mb-5">

            <div class="d-flex align-items-center flex-wrap">
                <label class="me-2">Page Size</label>

                <select class="form-select d-inline-block w-auto"
                    (change)="pageSizeChange.emit(+$any($event.target).value)">
                    <option *ngFor="let s of pageSizes" [value]="s">
                        {{ s }}
                    </option>
                </select>

                <div class="fs-6 fw-bold text-gray-700 ms-5">
                    Showing
                    {{ startEntry }}
                    to
                    {{ endEntry }}
                    of {{ totalRecords }} entries
                </div>
            </div>

            <ul class="pagination mb-0">

                <li class="page-item previous" [class.disabled]="page === 1">
                    <a class="page-link cursor-pointer" (click)="page > 1 && pageChange.emit(page - 1)">
                        <i class="previous"></i>
                    </a>
                </li>

                <li class="page-item" *ngFor="let p of [].constructor(totalPages); let i = index"
                    [class.active]="page === i + 1">
                    <a class="page-link cursor-pointer" (click)="pageChange.emit(i + 1)">
                        {{ i + 1 }}
                    </a>
                </li>

                <li class="page-item next" [class.disabled]="page === totalPages">
                    <a class="page-link cursor-pointer" (click)="page < totalPages && pageChange.emit(page + 1)">
                        <i class="next"></i>
                    </a>
                </li>

            </ul>
        </div>

    </div>
    <!-- begin::Body -->
</div>